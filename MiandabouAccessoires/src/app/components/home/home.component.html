<div class="mx-auto max-w-screen-2xl">
    <div class="flex bg-gradient-to-r from-gray-100 via-gray-300 to-gray-200 h-[80vh]">
        <div class="w-1/2 flex flex-wrap">
            <div class="w-full flex items-center ml-32">
                <div class="bg-gray-500 w-60 h-[10vh] flex justify-center items-center">
                    <p class="font-serif font-normal text-lg">
                        Envie d'un nouveau look?
                    </p>
                </div>
            </div>
            <div class="w-full flex items-center ml-40">
                <div class="bg-gray-500 w-96 h-[10vh] flex justify-center items-center">
                    <span class="font-serif font-thin text-lg">
                        Nous avons exactement ce qu'il vous faut.
                    </span>
                </div>
            </div>
            <div class="w-full flex items-center ml-48">
                <div class="bg-[#e7cc96] w-60 h-[10vh] rounded-lg flex justify-center items-center">
                    <button (click)="itemsPage()"
                        class="font-serif text-lg">
                        Jettez-y un coup d'oeil
                        <svg class="w-6 h-6 text-gray-800 dark:text-white inline" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                            width="24" height="24" fill="none" viewBox="0 0 24 24">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M6 12c.263 0 .524-.06.767-.175a2 2 0 0 0 .65-.491c.186-.21.333-.46.433-.734.1-.274.15-.568.15-.864a2.4 2.4 0 0 0 .586 1.591c.375.422.884.659 1.414.659.53 0 1.04-.237 1.414-.659A2.4 2.4 0 0 0 12 9.736a2.4 2.4 0 0 0 .586 1.591c.375.422.884.659 1.414.659.53 0 1.04-.237 1.414-.659A2.4 2.4 0 0 0 16 9.736c0 .295.052.588.152.861s.248.521.434.73a2 2 0 0 0 .649.488 1.809 1.809 0 0 0 1.53 0 2.03 2.03 0 0 0 .65-.488c.185-.209.332-.457.433-.73.1-.273.152-.566.152-.861 0-.974-1.108-3.85-1.618-5.121A.983.983 0 0 0 17.466 4H6.456a.986.986 0 0 0-.93.645C5.045 5.962 4 8.905 4 9.736c.023.59.241 1.148.611 1.567.37.418.865.667 1.389.697Zm0 0c.328 0 .651-.091.94-.266A2.1 2.1 0 0 0 7.66 11h.681a2.1 2.1 0 0 0 .718.734c.29.175.613.266.942.266.328 0 .651-.091.94-.266.29-.174.537-.427.719-.734h.681a2.1 2.1 0 0 0 .719.734c.289.175.612.266.94.266.329 0 .652-.091.942-.266.29-.174.536-.427.718-.734h.681c.183.307.43.56.719.734.29.174.613.266.941.266a1.819 1.819 0 0 0 1.06-.351M6 12a1.766 1.766 0 0 1-1.163-.476M5 12v7a1 1 0 0 0 1 1h2v-5h3v5h7a1 1 0 0 0 1-1v-7m-5 3v2h2v-2h-2Z" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>
        <div class="w-1/2">
            <img src="../../../assets/img/acceuil1.png" alt="shop image">
        </div>
    </div>

    <!-- PROMO -->
    <div class="relative h-screen">
        <button (click)="previousSlide()" id="prev-slide" class="slide-button">
            <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24"
                height="24" fill="none" viewBox="0 0 24 24">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="m15 19-7-7 7-7" />
            </svg>
        </button>
        <div #carousel class="test mt-8 h-screen relative overflow-x-auto" style="scrollbar-width: none;">
        
            <ng-container *ngIf="promos$ | async as promos; else promoEmpty">
                <div class="slider-wrapper">
                    <div class="w-full h-full card-list">
                        <div class="card-item" *ngFor="let item of promos">
                            <div class="w-1/2 flex-wrap pl-12">
                                <div class="w-full pt-20">
                                    <span class="capitalize font-semibold text-4xl leading-8 text-gray-900">{{ item.name }}
                                        <span class="text-red-500">{{ item.promo }}% OFF</span></span>
                                    <hr class="none border-0">
                                    <span class="absolute w-20 h-1 bg-[#e7cc96]"></span>
                                </div>
                                <div class="w-full pt-8">
                                    <p class="text-base leading-8 text-gray-900">
                                        {{ item.description }}
                                    </p>
                                </div>
                                <div class="w-full pt-8 flex">
                                    <span class="line-through text-sm leading-8 text-gray-400">
                                        ${{ item.price }}
                                    </span>
                                    <span class="text-lg leading-8 text-red-600 pl-4">
                                        ${{ promoPrice(item.price, item.promo) }}
                                    </span>
                                </div>
                                <div class="w-full pt-8">
                                    <p class="text-xl leading-8 text-gray-900">Fin de la promotion:
                                        <span class="font-normal text-lg text-red-600">
                                            {{ item.datePromoFin }}
                                        </span>
                                    </p>
                                </div>
                            </div>
                            <div class="w-1/2">
                                <img class="p-2" style="width: 95%; height: 90%; box-sizing: border-box;"
                                    src="{{ picture(item.contenthash) }}" alt="promoItem">
                            </div>
                        </div>
                    </div>
                </div>
            </ng-container>
        
            <ng-template #promoEmpty>
                <!-- No Promo -->
                <div class="w-full p-4 ">
                    <div
                        class="w-36 h-36 block bg-white border border-gray-200 rounded-lg shadow hover:bg-gray-100 dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700 flex justify-center items-center">
                        <p class="font-normal text-gray-700 dark:text-gray-400">Aucune promotion</p>
                    </div>
                </div>
            </ng-template>
        </div>
        <div class="slider-scrollbar">
            <div class="scrollbar-track" #scrollbarTrack>
                <div class="scrollbar-thumb" #scrollbarThumb></div>
            </div>
        </div>
        <button (click)="nextSlide()" id="next-slide" class="slide-button">
            <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24"
                height="24" fill="none" viewBox="0 0 24 24">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m9 5 7 7-7 7" />
            </svg>
        </button>
    </div>
    

    <!-- BEST SELLING -->
    <div class="my-8 h-screen bg-[#EEEEF0]">
        <p class="mx-4 font-thin text-3xl text-gray-900 text-center pt-6">Nos meilleures ventes</p>
        <p class="text-center"><span class="absolute w-20 h-1 bg-[#e7cc96]"></span></p>
        <ng-container *ngIf="bestSelling$ | async as bestSelling; else bestSellingEmpty">
            <section id="bestSellingSplide" class="splide h-5/6">
                <div class="splide__track h-full bg-white dark:bg-gray-800 dark:border-gray-700">
                    <ul class="splide__list">
                        <li *ngFor="let item of bestSelling" class="splide__slide px-4 bg-clip-padding">                  
                            <div class="h-full bg-white dark:bg-gray-800 dark:border-gray-700" style="background-clip: padding-box; box-shadow: 0 0 0 2rem #EEEEF0;">
                                <div class="h-4/6">
                                    <a href="#">
                                        <img class="w-full h-full p-1" src="{{ picture(item.contenthash) }}" alt="bestSellingItem" />
                                    </a>
                                </div>
                                <div class="h-2/6 px-5 pt-4">
                                    <a href="#">
                                        <h5 class="text-xl font-semibold tracking-tight text-gray-900 dark:text-white">{{ item.name }}</h5>
                                    </a>
                                    <div class="flex items-center my-2">
                                        <div class="flex items-center space-x-1 rtl:space-x-reverse">
                                            <svg class="w-4 h-4 text-yellow-300" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                                                fill="currentColor" viewBox="0 0 22 20">
                                                <path
                                                    d="M20.924 7.625a1.523 1.523 0 0 0-1.238-1.044l-5.051-.734-2.259-4.577a1.534 1.534 0 0 0-2.752 0L7.365 5.847l-5.051.734A1.535 1.535 0 0 0 1.463 9.2l3.656 3.563-.863 5.031a1.532 1.532 0 0 0 2.226 1.616L11 17.033l4.518 2.375a1.534 1.534 0 0 0 2.226-1.617l-.863-5.03L20.537 9.2a1.523 1.523 0 0 0 .387-1.575Z" />
                                            </svg>
                                            <svg class="w-4 h-4 text-yellow-300" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                                                fill="currentColor" viewBox="0 0 22 20">
                                                <path
                                                    d="M20.924 7.625a1.523 1.523 0 0 0-1.238-1.044l-5.051-.734-2.259-4.577a1.534 1.534 0 0 0-2.752 0L7.365 5.847l-5.051.734A1.535 1.535 0 0 0 1.463 9.2l3.656 3.563-.863 5.031a1.532 1.532 0 0 0 2.226 1.616L11 17.033l4.518 2.375a1.534 1.534 0 0 0 2.226-1.617l-.863-5.03L20.537 9.2a1.523 1.523 0 0 0 .387-1.575Z" />
                                            </svg>
                                            <svg class="w-4 h-4 text-yellow-300" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                                                fill="currentColor" viewBox="0 0 22 20">
                                                <path
                                                     d="M20.924 7.625a1.523 1.523 0 0 0-1.238-1.044l-5.051-.734-2.259-4.577a1.534 1.534 0 0 0-2.752 0L7.365 5.847l-5.051.734A1.535 1.535 0 0 0 1.463 9.2l3.656 3.563-.863 5.031a1.532 1.532 0 0 0 2.226 1.616L11 17.033l4.518 2.375a1.534 1.534 0 0 0 2.226-1.617l-.863-5.03L20.537 9.2a1.523 1.523 0 0 0 .387-1.575Z" />
                                            </svg>
                                            <svg class="w-4 h-4 text-yellow-300" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                                                fill="currentColor" viewBox="0 0 22 20">
                                                <path
                                                    d="M20.924 7.625a1.523 1.523 0 0 0-1.238-1.044l-5.051-.734-2.259-4.577a1.534 1.534 0 0 0-2.752 0L7.365 5.847l-5.051.734A1.535 1.535 0 0 0 1.463 9.2l3.656 3.563-.863 5.031a1.532 1.532 0 0 0 2.226 1.616L11 17.033l4.518 2.375a1.534 1.534 0 0 0 2.226-1.617l-.863-5.03L20.537 9.2a1.523 1.523 0 0 0 .387-1.575Z" />
                                            </svg>
                                            <svg class="w-4 h-4 text-gray-200 dark:text-gray-600" aria-hidden="true"
                                                xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 22 20">
                                                <path
                                                    d="M20.924 7.625a1.523 1.523 0 0 0-1.238-1.044l-5.051-.734-2.259-4.577a1.534 1.534 0 0 0-2.752 0L7.365 5.847l-5.051.734A1.535 1.535 0 0 0 1.463 9.2l3.656 3.563-.863 5.031a1.532 1.532 0 0 0 2.226 1.616L11 17.033l4.518 2.375a1.534 1.534 0 0 0 2.226-1.617l-.863-5.03L20.537 9.2a1.523 1.523 0 0 0 .387-1.575Z" />
                                            </svg>
                                        </div>
                                        <span
                                            class="bg-blue-100 text-blue-800 text-xs font-semibold px-2.5 py-0.5 rounded dark:bg-blue-200 dark:text-blue-800 ms-3">{{ item.rate }}</span>
                                    </div>
                                    <div class="flex items-center justify-between">
                                        <span class="text-3xl font-bold text-gray-900 dark:text-white">${{ item.price }}</span>
                                    </div>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </section>
        </ng-container>
        <ng-template #bestSellingEmpty>
            <!-- No Best Selling -->
            <div class="w-full p-4 ">
                <div
                    class="w-36 h-36 block bg-white border border-gray-200 rounded-lg shadow hover:bg-gray-100 dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700">
                    <p class="font-normal text-gray-700 dark:text-gray-400">Aucune vente</p>
                </div>
            </div>
        </ng-template>
        
    </div>

    <!-- BLOG -->
    <div class="mb-8">
        <p class="mx-4 font-thin text-3xl text-gray-900 text-center">Nos blogs</p>
        <p class="text-center"><span class="absolute w-20 h-1 bg-[#e7cc96]"></span></p>
        <ng-container *ngIf="isBlogNotEmpty(); else blogEmpty">
            <div class="grid-cols-1 sm:grid md:grid-cols-3">
                <div *ngFor="let blog of test2 | slice:0:2">
                    <div
                        class="mx-3 mt-6 flex flex-col bg-white text-surface shadow-secondary-1 dark:bg-surface-dark dark:text-white sm:shrink-0 sm:grow sm:basis-0">
                        <a href="#!">
                            <img src="{{ blog.picture }}" alt="Skyscrapers" />
                        </a>
                        <div class="p-6">
                            <h5 class="mb-2 text-xl font-medium leading-tight">{{ blog.title }}</h5>
                            <p class="mb-4 text-base">
                                {{ blog.description }}
                            </p>
                        </div>
                        <div
                            class="mt-auto border-t-2 border-neutral-100 px-6 py-3 text-center text-surface/75 dark:border-white/10 dark:text-neutral-300">
                            <small>Posted {{ blog.datePosted }} \ {{ blog.author }}</small>
                        </div>
                    </div>
                </div>
            
                <div (click)="blogsPage()"
                    class="cursor-pointer mx-3 mt-6 flex flex-col bg-white text-surface shadow-secondary-1 dark:bg-surface-dark dark:text-white sm:shrink-0 sm:grow sm:basis-0">
                    <div
                        class="block max-w-[18rem] rounded-lg bg-white text-left text-surface shadow-secondary-1 dark:bg-surface-dark dark:text-white">
                        <div class="p-6">
                            <h5 class="mb-1 text-xl font-medium leading-tight ">
                                Blogs
                            </h5>
                            <p class="mb-4 text-base leading-normal">
                                Consultez nos autres blogs. Certains vous interesserons sans doute.
                                <svg class="w-6 h-6 text-gray-800 dark:text-white inline" xmlns="http://www.w3.org/2000/svg" fill="none"
                                    viewBox="0 0 14 10">
                                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M1 5h12m0 0L9 1m4 4L9 9" />
                                </svg>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </ng-container>
        <ng-template #blogEmpty>
            <!-- No Blog -->
            <div class="w-full p-4 ">
                <div
                    class="w-36 h-36 block bg-white border border-gray-200 rounded-lg shadow hover:bg-gray-100 dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700">
                    <p class="font-normal text-gray-700 dark:text-gray-400">Aucun blog disponible</p>
                </div>
            </div>
        </ng-template>
    </div>

    <!-- NEWSLETTER -->
    <div class="mb-8 bg-gradient-to-r from-gray-100 via-gray-300 to-gray-200">
        <p class="mx-4 font-manrope font-medium text-3xl leading-9 text-gray-900 text-center pt-6">Notre bulettin d'informations</p>
        <p class="text-center mb-8"><span class="absolute w-20 h-1 bg-[#e7cc96]"></span></p>
        <div class="flex text-center justify-center">
            <div>
                <p class="mx-4">Recevoir nos dernières nouvelles</p>
            </div>
            <div>
                <form (ngSubmit)="subscribeNewsLetter()" [formGroup]="alertForm" class="w-full max-w-sm mx-4">
                    <div class="flex items-center border-b border-teal-500 py-2">
                        <input type="email" name="email" id="email" formControlName="email"
                            class="appearance-none bg-transparent border-none w-full text-gray-700 mr-3 py-1 px-2 leading-tight focus:outline-none"
                            type="text" placeholder="john@Doe.ca">
                        <button
                            class="flex-shrink-0 border-[#e7cc96] text-sm border-4 text-white hover:text-teal-800 py-1 px-2 rounded bg-[#e7cc96]"
                            type="button">
                            Sign Up
                        </button>
                        <button
                            class="flex-shrink-0 border-transparent border-4 text-[#e7cc96] hover:text-teal-800 text-sm py-1 px-2 rounded"
                            type="button">
                            Cancel
                        </button>
                    </div>
                    <span *ngIf="emailEmpty()" class="text-xs font-light text-red-500" style="margin: 0px;">Veuillez
                        saisir un email.</span>
                    <span *ngIf="emailFormat()" class="text-xs font-light text-red-500" style="margin: 0px;">Format
                        email invalid!</span>
                    <span *ngIf="emailLength()" class="text-xs font-light text-red-500" style="margin: 0px;">Vous
                        avez dépassé la taille maximale de 35 caractères.</span>
                </form>
            </div>
        </div>
    </div>
</div>